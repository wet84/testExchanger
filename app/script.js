"use strict";var arrowButton=document.querySelector(".custom-select__visible-section .arrow-button"),currencyMenuList=document.querySelector(".custom-select__visible-section .custom-select__list"),selectedCurrency=document.querySelector(".custom-select__visible-section .custom-select__selected-currency"),changeCurrencyMenu=document.querySelector(".custom-select__visible-section"),changeColorData=document.querySelectorAll(".changeable-data .data"),checkboxState=document.querySelectorAll(".checkbox input"),mainUrl="https://apiv2.bitcoinaverage.com/indices/global/ticker/",pricedataBtc=document.querySelector(".card-bitcoin .price-data"),checkBoxBtc=document.querySelector('.card-bitcoin input[type="checkbox"]'),nodeListBtc=document.querySelectorAll(".card-bitcoin .data"),BTC_USD=mainUrl+"BTCUSD",BTC_EUR=mainUrl+"BTCEUR",BTC_GBP=mainUrl+"BTCGBP",BTC_UAH=mainUrl+"BTCUAH",pricedataLtc=document.querySelector(".card-litecoin .price-data"),checkBoxLtc=document.querySelector('.card-litecoin input[type="checkbox"]'),nodeListLtc=document.querySelectorAll(".card-litecoin .data"),LTC_USD=mainUrl+"LTCUSD",LTC_EUR=mainUrl+"LTCEUR",LTC_GBP=mainUrl+"LTCGBP",LTC_UAH=mainUrl+"LTCUAH",pricedataEth=document.querySelector(".card-ethereum .price-data"),checkBoxEth=document.querySelector('.card-ethereum input[type="checkbox"]'),nodeListEth=document.querySelectorAll(".card-ethereum .data"),ETH_USD=mainUrl+"ETHUSD",ETH_EUR=mainUrl+"ETHEUR",ETH_GBP=mainUrl+"ETHGBP",ETH_UAH=mainUrl+"ETHUAH",convertCurencySymbol={USD:"$",EUR:"€",GBP:"£",UAH:"₴"},percentSymbol="%",status=function(e){return 200!==e.status?Promise.reject(new Error(e.statusText)):Promise.resolve(e)},json=function(e){return e.json()},getDataBtc=function(e){fetch(e).then(status).then(json).then(function(e){var t=e.ask,c=e.display_symbol,n=e.changes,a=n.price,r=n.percent;displayDataBtc(t,r,a,c)}).catch(function(e){return console.error("ERROR:",e)})},getDataLtc=function(e){fetch(e).then(status).then(json).then(function(e){var t=e.ask,c=e.display_symbol,n=e.changes,a=n.price,r=n.percent;displayDataLtc(t,r,a,c)}).catch(function(e){return console.error("ERROR:",e)})},getDataEth=function(e){fetch(e).then(status).then(json).then(function(e){var t=e.ask,c=e.display_symbol,n=e.changes,a=n.price,r=n.percent;displayDataEth(t,r,a,c)}).catch(function(e){return console.error("ERROR:",e)})};document.addEventListener("DOMContentLoaded",function(){getDataBtc(BTC_USD),getDataLtc(LTC_USD),getDataEth(ETH_USD)});var currencySelection=function(){if("USD"===selectedCurrency.innerHTML)getDataBtc(BTC_USD),getDataLtc(LTC_USD),getDataEth(ETH_USD);else if("EUR"===selectedCurrency.innerHTML)getDataBtc(BTC_EUR),getDataLtc(LTC_EUR),getDataEth(ETH_EUR);else if("GBP"===selectedCurrency.innerHTML)getDataBtc(BTC_GBP),getDataLtc(LTC_GBP),getDataEth(ETH_GBP);else{if("UAH"!=selectedCurrency.innerHTML)return void console.log("return");getDataBtc(BTC_UAH),getDataLtc(LTC_UAH),getDataEth(ETH_UAH)}},defineSymbol=function(e){var t="";for(var c in convertCurencySymbol)e.slice(4)===c&&(t=convertCurencySymbol[c]);return t},setPriceData=function(e,t,c){for(var n=Object.keys(t).map(function(e){return[t[e]]}),a=0;a<e.length;a++)for(var r=e[a],o=0;o<n.length;o++)r.innerHTML=n[a]+c},setPercentData=function(e,t,c){for(var n=Object.keys(t).map(function(e){return[t[e]]}),a=0;a<e.length;a++)for(var r=e[a],o=0;o<n.length;o++)r.innerHTML=n[a]+c},displayDataBtc=function(e,t,c,n){var a=defineSymbol(n);pricedataBtc.innerText=a+" "+e,setPriceData(nodeListBtc,c,a),changeColor(),checkBoxBtc.addEventListener("click",function(){checkBoxBtc.checked?setPercentData(nodeListBtc,t,percentSymbol):setPriceData(nodeListBtc,c,a)},!1)},displayDataLtc=function(e,t,c,n){var a=defineSymbol(n);pricedataLtc.innerText=a+" "+e,setPriceData(nodeListLtc,c,a),changeColor(),checkBoxLtc.addEventListener("click",function(){checkBoxLtc.checked?setPercentData(nodeListLtc,t,percentSymbol):setPriceData(nodeListLtc,c,a)},!1)},displayDataEth=function(e,t,c,n){var a=defineSymbol(n);pricedataEth.innerText=a+" "+e,setPriceData(nodeListEth,c,a),changeColor(),checkBoxEth.addEventListener("click",function(){checkBoxEth.checked?setPercentData(nodeListEth,t,percentSymbol):setPriceData(nodeListEth,c,a)},!1)},changeColor=function(){changeColorData.forEach(function(e){Number(e.textContent.slice(0,-1))<0&&e.classList.add("text-red")})};changeCurrencyMenu.addEventListener("click",function(e){if(currencyMenuList.classList.toggle("open-menu"),"LI"===e.target.tagName){var t=e.target.innerText;selectedCurrency.innerText=t,currencySelection()}currencyMenuList.classList.contains("open-menu")?(arrowButton.classList.add("fa-angle-up"),arrowButton.classList.remove("fa-angle-down")):(arrowButton.classList.add("fa-angle-down"),arrowButton.classList.remove("fa-angle-up")),checkboxDisable()});var checkboxDisable=function(){checkboxState.forEach(function(e){e.checked=!1})};