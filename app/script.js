"use strict";var visibleSection=document.querySelector(".custom-select__visible-section"),arrowButton=visibleSection.querySelector(".custom-select__visible-section .arrow-button"),currencyMenuList=visibleSection.querySelector(".custom-select__visible-section .custom-select__list"),selectedCurrency=visibleSection.querySelector(".custom-select__visible-section .custom-select__selected-currency"),changeColorData=document.querySelectorAll(".changeable-data .data"),checkboxState=document.querySelectorAll(".checkbox input"),mainUrl="https://apiv2.bitcoinaverage.com/indices/global/ticker/",cardBitcoin=document.querySelector(".card-bitcoin"),pricedataBtc=cardBitcoin.querySelector(".price-data"),checkBoxBtc=cardBitcoin.querySelector('input[type="checkbox"]'),nodeListBtc=cardBitcoin.querySelectorAll(".data"),BTC_USD=mainUrl+"BTCUSD",BTC_EUR=mainUrl+"BTCEUR",BTC_GBP=mainUrl+"BTCGBP",BTC_UAH=mainUrl+"BTCUAH",cardLitecoin=document.querySelector(".card-litecoin"),pricedataLtc=cardLitecoin.querySelector(".price-data"),checkBoxLtc=cardLitecoin.querySelector('input[type="checkbox"]'),nodeListLtc=cardLitecoin.querySelectorAll(".data"),LTC_USD=mainUrl+"LTCUSD",LTC_EUR=mainUrl+"LTCEUR",LTC_GBP=mainUrl+"LTCGBP",LTC_UAH=mainUrl+"LTCUAH",cardEtherium=document.querySelector(".card-ethereum"),pricedataEth=cardEtherium.querySelector(".price-data"),checkBoxEth=cardEtherium.querySelector('input[type="checkbox"]'),nodeListEth=cardEtherium.querySelectorAll(".data"),ETH_USD=mainUrl+"ETHUSD",ETH_EUR=mainUrl+"ETHEUR",ETH_GBP=mainUrl+"ETHGBP",ETH_UAH=mainUrl+"ETHUAH",convertCurencySymbol={USD:"$",EUR:"€",GBP:"£",UAH:"₴"},percentSymbol="%",status=function(e){return 200!==e.status?Promise.reject(new Error(e.statusText)):Promise.resolve(e)},json=function(e){return e.json()},getDataBtc=function(e){fetch(e).then(status).then(json).then(function(e){var t=e.ask,c=e.display_symbol,n=e.changes,r=n.price,a=n.percent;displayDataBtc(t,a,r,c)}).catch(function(e){return console.error("ERROR:",e)})},getDataLtc=function(e){fetch(e).then(status).then(json).then(function(e){var t=e.ask,c=e.display_symbol,n=e.changes,r=n.price,a=n.percent;displayDataLtc(t,a,r,c)}).catch(function(e){return console.error("ERROR:",e)})},getDataEth=function(e){fetch(e).then(status).then(json).then(function(e){var t=e.ask,c=e.display_symbol,n=e.changes,r=n.price,a=n.percent;displayDataEth(t,a,r,c)}).catch(function(e){return console.error("ERROR:",e)})};document.addEventListener("DOMContentLoaded",function(){getDataBtc(BTC_USD),getDataLtc(LTC_USD),getDataEth(ETH_USD)});var currencySelection=function(){if("USD"===selectedCurrency.innerHTML)getDataBtc(BTC_USD),getDataLtc(LTC_USD),getDataEth(ETH_USD);else if("EUR"===selectedCurrency.innerHTML)getDataBtc(BTC_EUR),getDataLtc(LTC_EUR),getDataEth(ETH_EUR);else if("GBP"===selectedCurrency.innerHTML)getDataBtc(BTC_GBP),getDataLtc(LTC_GBP),getDataEth(ETH_GBP);else{if("UAH"!=selectedCurrency.innerHTML)return void console.log("return");getDataBtc(BTC_UAH),getDataLtc(LTC_UAH),getDataEth(ETH_UAH)}},defineSymbol=function(e){var t="";for(var c in convertCurencySymbol)e.slice(4)===c&&(t=convertCurencySymbol[c]);return t},setPriceData=function(e,t,c){for(var n=Object.keys(t).map(function(e){return[t[e]]}),r=0;r<e.length;r++)for(var a=e[r],i=0;i<n.length;i++)a.innerHTML=n[r]+c},setPercentData=function(e,t,c){for(var n=Object.keys(t).map(function(e){return[t[e]]}),r=0;r<e.length;r++)for(var a=e[r],i=0;i<n.length;i++)a.innerHTML=n[r]+c},displayDataBtc=function(e,t,c,n){var r=defineSymbol(n);pricedataBtc.innerText=r+" "+e,setPriceData(nodeListBtc,c,r),changeColor(),checkBoxBtc.addEventListener("click",function(){checkBoxBtc.checked?setPercentData(nodeListBtc,t,percentSymbol):setPriceData(nodeListBtc,c,r)},!1)},displayDataLtc=function(e,t,c,n){var r=defineSymbol(n);pricedataLtc.innerText=r+" "+e,setPriceData(nodeListLtc,c,r),changeColor(),checkBoxLtc.addEventListener("click",function(){checkBoxLtc.checked?setPercentData(nodeListLtc,t,percentSymbol):setPriceData(nodeListLtc,c,r)},!1)},displayDataEth=function(e,t,c,n){var r=defineSymbol(n);pricedataEth.innerText=r+" "+e,setPriceData(nodeListEth,c,r),changeColor(),checkBoxEth.addEventListener("click",function(){checkBoxEth.checked?setPercentData(nodeListEth,t,percentSymbol):setPriceData(nodeListEth,c,r)},!1)},changeColor=function(){changeColorData.forEach(function(e){Number(e.textContent.slice(0,-1))<0&&e.classList.add("text-red")})};visibleSection.addEventListener("click",function(e){if(currencyMenuList.classList.toggle("open-menu"),"LI"===e.target.tagName){var t=e.target.innerText;selectedCurrency.innerText=t,currencySelection()}currencyMenuList.classList.contains("open-menu")?(arrowButton.classList.add("fa-angle-up"),arrowButton.classList.remove("fa-angle-down")):(arrowButton.classList.add("fa-angle-down"),arrowButton.classList.remove("fa-angle-up")),checkboxDisable()});var checkboxDisable=function(){checkboxState.forEach(function(e){e.checked=!1})};